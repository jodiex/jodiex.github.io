<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Jodie Xiang</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,600,700,800,900">
    <script src="https://kit.fontawesome.com/5963884a49.js" crossorigin="anonymous"></script>
</head>
<body>
    <!---------- HEADER ---------->
    <header class="header">
        <div data-include="navbar"></div>
    </header>

    <!---------- MAIN ---------->
    <main class="main-area">
        <div data-include="landing"></div>
        <div data-include="about"></div>
        <div data-include="projects"></div>
        <div data-include="experience"></div>

        <!---------- FOOTER ---------->
        <div data-include="footer"></div>
    </main>

    <script src="js/jquery.3.4.1.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>
        // add html from /views folder
        $(function () {
            var includes = $('[data-include]')
            $.each(includes, function () {
                var file = 'views/' + $(this).data('include') + '.html'
                $(this).load(file)
            })
        })

        // change background colour while scrolling
        $(window).scroll(function() {
            // selectors
            var $window = $(window),
                $body = $('body'),
                $panel = $('.panel'),
                $navigation = $('.navigation');
            
            // Change 33% earlier than scroll position so colour is there when you arrive.
            var scroll = $window.scrollTop() + ($window.height() / 3);
            
            $panel.each(function () {
                var $this = $(this);
                
                // if position is within range of this panel.
                // So position of (position of top of div <= scroll position) && (position of bottom of div > scroll position).
                // Remember we set the scroll to 33% earlier in scroll var.
                if ($this.position().top <= scroll && $this.position().top + $this.height() > scroll) {
                    // Remove all classes on body with color-
                    $body.removeClass(function (index, css) {
                        return (css.match (/(^|\s)color-\S+/g) || []).join(' ');
                    });
                    $navigation.removeClass(function (index, css) {
                        return (css.match (/(^|\s)color-\S+/g) || []).join(' ');
                    });
                    
                    // Add class of currently active div
                    $body.addClass('color-' + $(this).data('color'));
                    $navigation.addClass('color-' + $(this).data('color'));
                }
            });    
            
            }).scroll();
    </script>
</body>
</html>